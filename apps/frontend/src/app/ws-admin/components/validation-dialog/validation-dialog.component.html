<h1 mat-dialog-title>Antwortdaten prüfen</h1>

<!-- Overall status banner -->
<coding-box-validation-result-banner
  [status]="getOverallStatus()"
  [headline]="getOverallHeadline()"
  [subline]="getOverallSubline()"
  [recommendation]="getRecommendedNextStep()">
</coding-box-validation-result-banner>

<!-- Start all button -->
<div class="actions-container" style="margin-top: 8px;">
  <button mat-button color="primary" 
          (click)="startAllValidations()" 
          [disabled]="isAnyValidationRunning()">
    Alle Prüfungen starten
  </button>
</div>

<!-- Info banner when validations are running -->
<div class="info-banner" *ngIf="isAnyValidationRunning()">
  <mat-icon>info</mat-icon>
  <span>Validierungen laufen im Hintergrund weiter, auch wenn Sie diesen Dialog schließen.</span>
</div>

<mat-dialog-content>
  <mat-accordion multi="true">
    
    <!-- Test Takers Validation -->
    <coding-box-test-takers-validation-panel
      [disabled]="isAnyValidationRunning()">
    </coding-box-test-takers-validation-panel>

    <!-- Variables Validation -->
    <coding-box-variables-validation-panel
      [disabled]="isAnyValidationRunning()"
      (showUnitXml)="showUnitXml($event)">
    </coding-box-variables-validation-panel>

    <!-- Variable Types Validation -->
    <coding-box-variable-types-validation-panel
      [disabled]="isAnyValidationRunning()"
      (showUnitXml)="showUnitXml($event)">
    </coding-box-variable-types-validation-panel>

    <!-- Response Status Validation -->
    <coding-box-response-status-validation-panel
      [disabled]="isAnyValidationRunning()"
      (showUnitXml)="showUnitXml($event)">
    </coding-box-response-status-validation-panel>

    <!-- Duplicate Responses Validation -->
    <coding-box-duplicate-responses-validation-panel
      [disabled]="isAnyValidationRunning()">
    </coding-box-duplicate-responses-validation-panel>

    <!-- Group Responses Validation -->
    <coding-box-group-responses-validation-panel
      [disabled]="isAnyValidationRunning()">
    </coding-box-group-responses-validation-panel>

  </mat-accordion>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="close()">Schließen</button>
</mat-dialog-actions>
